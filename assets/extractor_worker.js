var dataToPass={};var Module={};Module={noInitialRun:true,onRuntimeInitialized:function(){setTimeout(function(){if(dataToPass)extractor(dataToPass);dataToPass=null;},10);},monitorRunDependencies:function(left){},locateFile:function(file){return 'https://www.emulatorjs.com/worker/extractor.wasm';}};var extractor=function(data){let blobs=[];Module.FS.mkdir('/work');if(0&&Module.FS.filesystems.WORKERFS){blobs.push({name:data.filename,data:new Blob([data.data])});Module.FS.mount(Module.FS.filesystems.WORKERFS,{files:[],blobs:blobs,encoding:'binary',canOwn:true,flags:'w+'},'/work');}else{Module.FS.writeFile('/work/'+data.filename,data.data);}
Module.callMain(['/work/'+data.filename,data.key]);Module.FS.unlink('/work/'+data.filename);close();};onmessage=function(e){dataToPass={filename:e.data.filename,data:new Uint8Array(e.data.data),key:e.data.key};importScripts("https://www.emulatorjs.com/worker/extractor.js");};